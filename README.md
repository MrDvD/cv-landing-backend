# Страница-резюме (backend)

REST API сервис на Go для обслуживания данных резюме-лендинга, включая активности (проекты, образование, события), навыки и теги.

## Возможности

- **Управление активностями**: Получение данных о проектах, образовании и событиях
- **API навыков**: Предоставление жёстких и мягких навыков из JSON файлов
- **Система тегов**: Фильтрация и получение тегов, связанных с активностями
- **Интеграция с PostgreSQL**: Надёжное хранение данных
- **Поддержка Docker**: Лёгкое развёртывание с Docker Compose

## Технологический стек

- **Язык**: Go 1.25
- **Веб-фреймворк**: Gorilla Mux
- **База данных**: PostgreSQL 18
- **Контейнеризация**: Docker и Docker Compose
- **Драйвер БД**: lib/pq

## Быстрый старт

1. **Клонирование репозитория**
   ```bash
   git clone <repository-url>
   cd cv-landing-backend
   ```

2. **Настройка переменных окружения**
   Создайте файл `.env` в корневой директории:
   ```env
   POSTGRES_USER=ваш_пользователь
   POSTGRES_PASSWORD=ваш_пароль
   POSTGRES_HOST=database
   PUBLIC_DOMAIN=http://your.domain:3000
   PRIVATE_DOMAIN=http://localhost
   ```

3. **Запуск сервисов**
   ```bash
   docker-compose up -d
   ```

API будет доступно по адресу `http://your.domain:3000`

## Документация API

### Базовый URL

### Эндпоинты

#### Активности
- **GET** `/v1/activity/{type}/`
  - Получение активностей по типу
  - **Параметры**: 
    - `type`: `projects`, `education`, или `events`
  - **Ответ**: Массив объектов активностей

#### Навыки
- **GET** `/v1/skills/{type}/`
  - Получение данных о навыках
  - **Параметры**: 
    - `type`: `hard` или `soft`
  - **Ответ**: Иерархическая структура навыков

#### Теги
- **GET** `/v1/tags/{type}/`
  - Получение всех тегов по типу
  - **Параметры**: 
    - `type`: `core` или `additional`

- **GET** `/v1/tags/{id}/{type}/`
  - Получение тегов для конкретной активности
  - **Параметры**: 
    - `id`: ID активности (числовой)
    - `type`: `core` или `additional`

### Модели данных

#### Активность
```json
{
  "Name": "Название проекта",
  "Subtitle": "Описание проекта",
  "Description": "Подробное описание (опционально)",
  "Type": "project|education|event",
  "MetaLabel": "Статус или достижение (опционально)",
  "DateStart": "2025-01-01",
  "DateEnd": "2025-06-01 (опционально)"
}
```

#### Тег
```json
{
  "Name": "Название технологии",
  "Type": "core|additional",
  "ActivityId": 1
}
```

## Схема базы данных

Приложение использует PostgreSQL с следующими основными таблицами:

- **ACTIVITIES**: Хранит проекты, образование и события
- **TAGS**: Хранит теги технологий, связанные с активностями

См. `init.sql` для полного определения схемы.

## Конфигурация Docker

### Сервисы
- **database**: PostgreSQL 18 с проверками здоровья
- **app**: Go приложение с монтированными томами для статических файлов

### Тома
- `./init.sql`: Инициализация базы данных
- `./public`: Статические файлы навыков
- `./postgresql`: Постоянное хранение базы данных

## Конфигурация

### Переменные окружения

| Переменная | Описание |
|------------|----------|
| `POSTGRES_USER` | Имя пользователя PostgreSQL |
| `POSTGRES_PASSWORD` | Пароль PostgreSQL |
| `POSTGRES_HOST` | Хост PostgreSQL |
| `FRONTEND_DOMAIN` | Разрешённый источник CORS |